# 已知问题

## 1) X 浏览器呼气音在部分手机上不播放
- 现象：同一手机上，Chrome 可正常听到呼气音，X 浏览器呼气音可能无声。
- 当前状态：未阻断整体使用，其他主流浏览器可用。
- 影响范围：主要影响特定浏览器内核兼容性，不影响部署和基础功能。
- 临时建议：移动端优先使用 Chrome 或系统浏览器访问。

## 2) `file://` 本地文件模式稳定性弱于 HTTP
- 现象：双击 `index.html` 运行时，浏览器可能限制音频读取/解码。
- 当前状态：已做兜底处理，但仍建议使用本地 HTTP 或线上地址。
- 临时建议：本地调试统一使用 `python -m http.server`。

## 3) 可选脚本 `generate-audio-data.ps1` 的 MIME 前缀待校正
- 现象：脚本当前输入已切到 MP3，但输出 data URL 前缀仍是 `audio/ogg`。
- 风险：在严格依赖 MIME 的环境里可能触发兼容问题。
- 优先级：中（平时主流程不依赖该脚本，可在后续迭代修正）。

## 4) 播放音频偶发随机慢 1-2 秒
- 现象：同一参数下，偶发会出现提示音晚 1-2 秒开始；非必现，刷新后概率变化。
- 当前状态：不阻断使用，但会影响节奏一致性体验。
- 初步原因分析：
  - 首次播放或阶段切换时，`AudioContext` 恢复/调度存在设备级抖动。
  - 采样音（呼气）首次解码命中慢路径时，开始时间可能被拉后。
  - 浏览器主线程负载波动会放大 `setInterval`/`setTimeout` 的触发偏差。
- 后续优化方向：
  - 在开始前预热音频上下文与采样解码（warm-up）。
  - 阶段调度从“触发时播放”改为“按时间轴提前调度”。
  - 将关键计时迁移到 `AudioContext.currentTime` 驱动，降低主线程抖动影响。

